{"version":3,"sources":["crypto.js","component/Social.js","component/ID.js","component/Signature.js","component/Register.js","component/Login.js","component/Edit.js","App.js","index.js"],"names":["encrypt","pass","message","salt","forge","random","getBytesSync","derivedBytes","pbe","opensslDeriveBytes","keySize","buffer","util","createBuffer","key","getBytes","iv","cipher","createCipher","start","update","finish","output","putBytes","putBuffer","decrypt","input","length","decipher","createDecipher","toString","Social","text","color","type","link","href","className","style","backgroundColor","ID","user","me","useParams","username","defaultUsername","useState","setUsername","name","setName","blurb","setBlurb","setKey","payload","setPayload","password","setPassword","file","setFile","fileMode","setFileMode","facebookName","setFacebookName","facebookLink","setFacebookLink","twitterName","setTwitterName","twitterLink","setTwitterLink","githubName","setGithubName","githubLink","setGithubLink","useEffect","fetch","then","res","json","code","window","location","key_decrypt","facebook_name","facebook_link","twitter_name","twitter_link","github_name","github_link","err","opacity","display","size","value","origin","qrStyle","bgColor","fgColor","logoImage","logoWidth","logoOpacity","fontWeight","to","onClick","marginTop","marginRight","for","id","onChange","e","target","files","placeholder","alert","axios","post","data","body","key_encryption","pki","privateKeyFromPem","md","sha1","create","fileReader","FileReader","onloadend","content","result","digest","toHex","signature","sign","hash","uuid","catch","readAsBinaryString","Signature","setSignature","setHash","setText","verified","setVerified","checksum","setChecksum","publicKeyFromPem","verify","hexToBytes","flexDirection","marginBottom","width","Yes","textAlign","No","Register","reqLength","reqCase","test","reqSpecial","padding","rsa","generateKeyPair","bits","workers","keypair","console","error","publicKeyToPem","publicKey","key_encrypt","privateKeyToPem","privateKey","log","Login","Edit","loaded","setLoaded","fontSize","App","src","path","exact","zIndex","position","top","left","height","overflow","fill","viewBox","d","paddingLeft","borderLeftStyle","marginLeft","borderWidth","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b7be612.chunk.js","sourcesContent":["import forge from 'node-forge';\n\nconst keySize = 24;\nconst ivSize = 8;\n\nfunction encrypt(pass, message) {\n    const salt = forge.random.getBytesSync(8);\n    const derivedBytes = forge.pbe.opensslDeriveBytes(\n        pass, salt, keySize + ivSize\n    );\n    const buffer = forge.util.createBuffer(derivedBytes);\n    const key = buffer.getBytes(keySize);\n    const iv = buffer.getBytes(ivSize);\n\n    const cipher = forge.cipher.createCipher('3DES-CBC', key);\n    cipher.start({ iv });\n    cipher.update(forge.util.createBuffer(message));\n    cipher.finish();\n\n    const output = forge.util.createBuffer();\n\n    if (salt !== null) {\n        output.putBytes('Salted__');\n        output.putBytes(salt);\n    }\n    output.putBuffer(cipher.output);\n\n    return output.getBytes();\n}\n\nfunction decrypt(pass, message) {\n    const input = forge.util.createBuffer(message);\n\n    input.getBytes('Salted__'.length);\n\n    const salt = input.getBytes(8);\n\n    const derivedBytes = forge.pbe.opensslDeriveBytes(\n        pass, salt, keySize + ivSize);\n    const buffer = forge.util.createBuffer(derivedBytes);\n    const key = buffer.getBytes(keySize);\n    const iv = buffer.getBytes(ivSize);\n\n    const decipher = forge.cipher.createDecipher('3DES-CBC', key);\n    decipher.start({ iv });\n    decipher.update(input);\n    decipher.finish();\n\n    return decipher.output.toString();\n}\n\nexport {\n    encrypt, decrypt\n};\n","function Social({ text, color, type, link }) {\n    return (\n        <a href={ link }>\n            <div className='social' style={{ backgroundColor: color }}>\n                <span>{ text }</span>\n                <i className={ `fab fa-${type}` }></i>\n            </div>\n        </a>\n    );\n}\n\nexport default Social;\n","import { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { QRCode } from 'react-qrcode-logo';\n\nimport axios from 'axios';\nimport forge from 'node-forge';\n\nimport { decrypt } from '../crypto';\nimport Social from './Social';\n\nfunction ID({ user }) {\n    const me = useParams().username == 'me';\n    var defaultUsername = useParams().username;\n    if (user) defaultUsername = user;\n    const [ username, setUsername ] = useState(defaultUsername);\n    const [ name, setName ] = useState();\n    const [ blurb, setBlurb ] = useState();\n    const [ key, setKey ] = useState();\n\n    const [ payload, setPayload ] = useState();\n    const [ password, setPassword ] = useState();\n    const [ file, setFile ] = useState();\n\n    const [ fileMode, setFileMode ] = useState(false);\n\n    const [ facebookName, setFacebookName ] = useState();\n    const [ facebookLink, setFacebookLink ] = useState();\n    const [ twitterName, setTwitterName ] = useState();\n    const [ twitterLink, setTwitterLink ] = useState();\n    const [ githubName, setGithubName ] = useState();\n    const [ githubLink, setGithubLink ] = useState();\n\n    const handlePayloadChange = (e) => { setPayload(e.target.value); };\n    const handlePasswordChange = (e) => { setPassword(e.target.value); };\n    const handleFileChange = (e) => { setFile(e.target.files[0]); };\n\n    const handleSign = () => {\n        if (!fileMode && !payload) return alert('Payload is missing!');\n        if (fileMode && !file) return alert('File is missing!');\n        if (!password) return alert('Password is missing!');\n\n        axios.post('/api/prepareSign')\n        .then(res => {\n            switch (res.data.code) {\n                case 0:\n                    try {\n                        const key_encryption = forge.pki.privateKeyFromPem(decrypt(\n                            password, res.data.key_encryption));\n                        const md = forge.md.sha1.create();\n\n                        let body;\n\n                        if (fileMode) {\n                            const fileReader = new FileReader();\n                            fileReader.onloadend = (e) => {\n                                const content = fileReader.result;\n\n                                md.update(content, 'binary');\n                                body = md.digest().toHex();\n                                const signature = key_encryption.sign(md);\n\n                                axios.post('/api/sign', { hash: body, signature })\n                                .then(res => {\n                                    if (res.data.code)\n                                        return alert('Unknown error');\n\n                                    const uuid = res.data.uuid;\n                                    window.location.href =\n                                        `${window.location.origin}/sig/${uuid}`\n\n                                })\n                                .catch(err => {\n                                    alert('Unknown error!');\n                                });\n                            };\n                            fileReader.readAsBinaryString(file);\n                        }\n                        else {\n                            body = payload;\n\n                            md.update(payload, 'utf8');\n                            const signature = key_encryption.sign(md);\n\n                            axios.post('/api/sign', { payload: body, signature })\n                            .then(res => {\n                                if (res.data.code)\n                                    return alert('Unknown error');\n\n                                const uuid = res.data.uuid;\n                                window.location.href =\n                                    `${window.location.origin}/sig/${uuid}`\n                            })\n                            .catch(err => {\n                                alert('Unknown error!');\n                            });\n                        }\n                    }\n                    catch (err) {\n                        alert('Invalid password!');\n                    }\n                    break;\n                default:\n                    alert(res.data.message);\n                    break;\n            }\n        });\n    };\n\n    const toggleMode = () => {\n        setFileMode(!fileMode);\n    };\n\n    useEffect(() => {\n        fetch(`/api/id/${username}`)\n        .then(res => res.json())\n        .then(\n            (res) => {\n                switch (res.code) {\n                    case 0:\n                        break;\n                    case 3:\n                        window.location.href = '/login';\n                        break;\n                    default:\n                        window.location.href = '/';\n                        break;\n                }\n\n                setUsername(res.username);\n                setName(res.name);\n                setBlurb(res.blurb);\n                setKey(res.key_decrypt);\n\n                setFacebookName(res.facebook_name);\n                setFacebookLink(res.facebook_link);\n                setTwitterName(res.twitter_name);\n                setTwitterLink(res.twitter_link);\n                setGithubName(res.github_name);\n                setGithubLink(res.github_link);\n            },\n            (err) => {\n                window.location.href = '/';\n            }\n        );\n    }, []);\n\n    return (\n        <>\n            <div style={{ opacity: name ? 1 : 0, display: name ? 'flex' : 'none' }} className='box'>\n                <div className='qr'>\n                    <QRCode\n                        size={ 225 }\n                        value={ `${window.location.origin}/id/${username}` }\n                        qrStyle='dots' bgColor='#1c1f28' fgColor='#f8faf9'\n                        logoImage='/logo.png' logoWidth='75' logoOpacity='0.8' />\n                        </div>\n                <div>\n                    <h1 style={{ fontWeight: 400 }}>{ name }</h1>\n                    <i className='soft'>@{ username }</i>\n                    <p>{ blurb }</p>\n                    <div>\n                        <div style={{ display: 'inline-block' }}>\n                            { twitterName &&\n                                <Social\n                                    text={ twitterName }\n                                    link={ twitterLink }\n                                    color='#1DA1F2' type='twitter' /> }\n                            { githubName &&\n                                <Social\n                                    text={ githubName }\n                                    link={ githubLink }\n                                    color='#0366D6' type='github' /> }\n                            { facebookName &&\n                                <Social\n                                    text={ facebookName }\n                                    link={ facebookLink }\n                                    color='#4267B2' type='facebook' /> }\n                        </div>\n                    </div>\n                    { me &&\n                        <>\n                            <Link to='/edit'>\n                                <small className='soft'>Edit your profile</small>\n                            </Link>\n                            <br />\n                            <a href='/logout'>\n                                <small className='soft'>Logout</small>\n                            </a>\n                        </>\n                    }\n                </div>\n            </div>\n            <div style={{\n                display: me && name ? 'flex' : 'none',\n                opacity: name ? 1 : 0,\n                backgroundColor: 'transparent'\n            }} className='box'>\n                <div>\n                    <Link onClick={ toggleMode }>\n                        <small className='soft'>\n                            { fileMode ? \n                                'Want to sign text?' :\n                                'Want to sign a file?' }\n                        </small>\n                    </Link>\n                    { fileMode\n                        ? <div style={{ marginTop: 8 }}>\n                            <label style={{ marginRight: 4 }} for='file'>\n                                Browse\n                            </label>\n                            <small style={{ color: 'var(--midground)' }}>\n                                { file?.name || 'No file selected' }\n                            </small>\n                            <input\n                                id='file'\n                                style={{ display: 'none' }}\n                                type='file' onChange={ handleFileChange } />\n                        </div>\n                        : <input\n                            style={{ marginTop: 5 }}\n                            type='text' placeholder='Message'\n                            value={ payload } onChange={ handlePayloadChange } />\n                    }\n                    <input\n                        type='password' placeholder='Password'\n                        value={ password } onChange={ handlePasswordChange } />\n                    <button onClick={ handleSign }>\n                        Sign <i className='fas fa-pen-alt'></i>\n                    </button>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default ID;\n","import { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { QRCode } from 'react-qrcode-logo';\n\nimport axios from 'axios';\nimport forge from 'node-forge';\n\nimport Social from './Social';\nimport ID from './ID';\n\nfunction Signature() {\n    const [ uuid, setUuid ] = useState(useParams().uuid);\n\n    const [ username, setUsername ] = useState();\n    const [ signature, setSignature ] = useState();\n    const [ hash, setHash ] = useState();\n    const [ text, setText ] = useState();\n\n    const [ key, setKey ] = useState();\n    const [ name, setName ] = useState();\n    const [ blurb, setBlurb ] = useState();\n\n    const [ facebookName, setFacebookName ] = useState();\n    const [ facebookLink, setFacebookLink ] = useState();\n    const [ twitterName, setTwitterName ] = useState();\n    const [ twitterLink, setTwitterLink ] = useState();\n    const [ githubName, setGithubName ] = useState();\n    const [ githubLink, setGithubLink ] = useState();\n\n    const [ verified, setVerified ] = useState('waiting');\n    const [ checksum, setChecksum ] = useState('waiting');\n\n    const fileMode = !text;\n\n    const [ file, setFile ] = useState();\n\n    const handleFileChange = (e) => { setFile(e.target.files[0]); };\n\n    useEffect(() => {\n        fetch(`/api/sig/${uuid}`)\n        .then(res => res.json())\n        .then(\n            (res) => {\n                if (res.code)\n                    window.location.href = '/';\n\n                setUsername(res.username);\n                setSignature(res.signature);\n                setHash(res.hash);\n                setText(res.text);\n            },\n            (err) => {\n                window.location.href = '/';\n            }\n        );\n    }, []);\n\n    useEffect(() => {\n        if (username) {\n            fetch(`/api/id/${username}`)\n            .then(res => res.json())\n            .then(\n                (res) => {\n                    if (res.code)\n                        window.location.href = '/';\n\n                    setName(res.name);\n                    setBlurb(res.blurb);\n                    setKey(res.key_decrypt);\n\n                    setFacebookName(res.facebook_name);\n                    setFacebookLink(res.facebook_link);\n                    setTwitterName(res.twitter_name);\n                    setTwitterLink(res.twitter_link);\n                    setGithubName(res.github_name);\n                    setGithubLink(res.github_link);\n                },\n                (err) => {\n                    window.location.href = '/';\n                }\n            );\n        }\n    }, [ username ]);\n\n    useEffect(() => {\n        if (key) {\n            const key_decrypt = forge.pki.publicKeyFromPem(key);\n\n            setVerified(\n                key_decrypt.verify(forge.util.hexToBytes(hash), signature) ?\n                'verified' : 'invalid'\n            );\n\n            if (fileMode && file) {\n                const fileReader = new FileReader();\n                fileReader.onloadend = (e) => {\n                    const content = fileReader.result;\n\n                    const md = forge.md.sha1.create();\n                    md.update(content, 'binary');\n                    const body = md.digest().toHex();\n\n                    setChecksum(\n                        hash == body ?\n                        'match' : 'mismatch'\n                    );\n                };\n                fileReader.readAsBinaryString(file);\n            }\n        }\n    }, [ key, file ]);\n\n    return (\n        <div style={{\n            opacity: key ? 1 : 0, display: key ? 'flex' : 'none', flexDirection: 'column'\n        }} className='box'>\n            <QRCode\n                size={ 225 }\n                value={ `${window.location.origin}/sig/${uuid}` }\n                qrStyle='dots' bgColor='#1c1f28' fgColor='#f8faf9'\n                logoImage='/logo.png' logoWidth='75' logoOpacity='0.8' />\n            <br />\n\n            { fileMode\n                ? <div style={{ marginBottom: 8 }}>\n                    <label style={{ marginRight: 4 }} for='file'>\n                        Browse\n                    </label>\n                    <small style={{ color: 'var(--midground)' }}>\n                        { file?.name || 'No file selected' }\n                    </small>\n                    <input\n                        id='file'\n                        style={{ display: 'none' }}\n                        type='file' onChange={ handleFileChange } />\n                </div>\n                : <p>{ text }</p>\n            }\n            { checksum == 'mismatch' && fileMode &&\n                <small style={{ color: 'red' }}>\n                    Files Mismatch\n                </small> }\n            { checksum == 'match' && fileMode &&\n                <small style={{ color: 'deepskyblue' }}>\n                    Files Match\n                </small> }\n            { checksum == 'waiting' && fileMode &&\n                <small style={{ color: 'var(--foreground)' }}>Waiting for file</small> }\n            <small className='soft'>{ hash }</small>\n            { verified == 'invalid' &&\n                <h2 style={{ color: 'red' }}>\n                    Invalid <i className='fas fa-times-circle'></i>\n                </h2> }\n            { verified == 'verified' &&\n                <h2 style={{ color: 'deepskyblue' }}>\n                    Verified <i className='fas fa-check-circle'></i>\n                </h2> }\n            { verified == 'waiting' &&\n                <h2 style={{ color: 'var(--foreground)' }}>Verifying...</h2> }\n            <div style={{ width: '100%' }}>\n                <hr />\n            </div>\n            <Link to={ `/id/${username}` }>\n                <h1 style={{ fontWeight: 400 }}>{ name }</h1>\n            </Link>\n            <i className='soft'>@{ username }</i>\n            <p>{ blurb }</p>\n            <div>\n                <div style={{ display: 'inline-block' }}>\n                    { twitterName &&\n                        <Social\n                            text={ twitterName }\n                            link={ twitterLink }\n                            color='#1DA1F2' type='twitter' /> }\n                    { githubName &&\n                        <Social\n                            text={ githubName }\n                            link={ githubLink }\n                            color='#0366D6' type='github' /> }\n                    { facebookName &&\n                        <Social\n                            text={ facebookName }\n                            link={ facebookLink }\n                            color='#4267B2' type='facebook' /> }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Signature;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport forge from 'node-forge';\nimport axios from 'axios';\n\nimport { encrypt, decrypt } from '../crypto';\n\nfunction Yes() {\n    return (\n        <i style={{ textAlign: 'center', width: 16 }} className='fas fa-check'></i>\n    );\n}\nfunction No() {\n    return (\n        <i style={{ textAlign: 'center', width: 16 }} className='fas fa-times'></i>\n    );\n}\n\nfunction Register() {\n    const [ username, setUsername ] = useState('');\n    const [ password, setPassword ] = useState('');\n\n    const handleUsernameChange = (e) => { setUsername(e.target.value); };\n    const handlePasswordChange = (e) => { setPassword(e.target.value); };\n\n    const reqLength = password.length >= 14;\n    const reqCase = /(?=.*[a-z])(?=.*[A-Z])/.test(password);\n    const reqSpecial = /(?=.*[-+_!@#$%^&*., ?])/.test(password);\n\n    const handleRegister = (e) => {\n        if (!username) return alert('Username is required!');\n        if (!reqLength) return alert('Must contain at least 14 characters!');\n        if (!reqCase) return alert('Must have both capital and lowercase letters');\n        if (!reqSpecial) return alert('Must contain at least 1 symbol');\n\n        forge.pki.rsa.generateKeyPair(\n            { bits: 2048, workers: 2 },\n            (err, keypair) => {\n                if (err) console.error(err);\n\n                const key_decrypt = forge.pki.publicKeyToPem(keypair.publicKey);\n                const key_encrypt = forge.pki.privateKeyToPem(keypair.privateKey);\n\n                console.log(key_decrypt);\n                console.log(key_encrypt);\n\n                axios.post('/api/register', {\n                    username,\n                    key_decrypt,\n                    key_encrypt: encrypt(password, key_encrypt)\n                })\n                .then(res => {\n                    switch (res.data.code) {\n                        case 0:\n                            window.location.href = '/login';\n                            break;\n                        default:\n                            alert(res.data.message);\n                            break;\n                    }\n                });\n            }\n        );\n    };\n\n    return (\n        <div className='box'>\n            <div>\n                <h2>Create your repul.ink account</h2>\n                <div style={{ padding: 5 }}>\n                    <p>{reqLength ? <Yes/> : <No/>} Must contain at least 14 characters</p>\n                    <p>{reqCase ? <Yes/> : <No/>} Must have both capital and lowercase letters</p>\n                    <p>{reqSpecial ? <Yes/> : <No/>} Must contain at least 1 symbol</p>\n                    <input\n                        type='text' placeholder='Username'\n                        value={ username } onChange={ handleUsernameChange } />\n                    <input\n                        type='password' placeholder='Password'\n                        value={ password } onChange={ handlePasswordChange } />\n                    <button style={{ marginTop: 10 }} onClick={ handleRegister }>Register</button>\n                    <Link to='/login'>\n                        <small className='soft'>Already have an account?</small>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Register;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport forge from 'node-forge';\nimport axios from 'axios';\n\nimport { encrypt, decrypt } from '../crypto';\n\nfunction Yes() {\n    return (\n        <i style={{ textAlign: 'center', width: 16 }} className='fas fa-check'></i>\n    );\n}\nfunction No() {\n    return (\n        <i style={{ textAlign: 'center', width: 16 }} className='fas fa-times'></i>\n    );\n}\n\nfunction Login() {\n    const [ username, setUsername ] = useState('');\n    const [ password, setPassword ] = useState('');\n\n    const handleUsernameChange = (e) => { setUsername(e.target.value); };\n    const handlePasswordChange = (e) => { setPassword(e.target.value); };\n\n    const reqLength = password.length >= 14;\n    const reqCase = /(?=.*[a-z])(?=.*[A-Z])/.test(password);\n    const reqSpecial = /(?=.*[-+_!@#$%^&*., ?])/.test(password);\n\n    const handleLogin = (e) => {\n        if (!username) return alert('Username is missing!');\n        if (!reqLength) return alert('Password contains at least 14 characters!');\n        if (!reqCase) return alert('Password contains both capital and lowercase letters');\n        if (!reqSpecial) return alert('Password contains at least 1 symbol');\n\n        axios.post('/api/prepareLogin', { username })\n        .then(res => {\n            switch (res.data.code) {\n                case 0:\n                    try {\n                        const key_encryption = forge.pki.privateKeyFromPem(decrypt(\n                            password, res.data.key_encryption));\n\n                        const md = forge.md.sha1.create();\n                        md.update(username, 'utf8');\n                        const signature = key_encryption.sign(md);\n\n                        axios.post('/api/login', { username, signature })\n                        .then(res => {\n                            window.location.href = '/id/me';\n                        })\n                        .catch(err => {\n                            alert('Unknown error!');\n                        });\n                    }\n                    catch (err) {\n                        alert('Invalid password!');\n                    }\n                    break;\n                default:\n                    alert(res.data.message);\n                    break;\n            }\n        });\n    };\n\n    return (\n        <div className='box'>\n            <div>\n                <h2>Login to your repul.ink account</h2>\n                <div style={{ padding: 5 }}>\n                    <p>{reqLength ? <Yes/> : <No/>} Password contains at least 14 characters</p>\n                    <p>{reqCase ? <Yes/> : <No/>} Password contains both capital and lowercase letters</p>\n                    <p>{reqSpecial ? <Yes/> : <No/>} Password contains at least 1 symbol</p>\n                    <input\n                        type='text' placeholder='Username'\n                        value={ username } onChange={ handleUsernameChange } />\n                    <input\n                        type='password' placeholder='Password'\n                        value={ password } onChange={ handlePasswordChange } />\n                    <button style={{ marginTop: 10 }}  onClick={ handleLogin }>Login</button>\n                    <Link to='/register'>\n                        <small className='soft'>Don't have an account?</small>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n","import { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\n\nimport axios from 'axios';\n\nimport Social from './Social';\n\nfunction Edit() {\n    const [ loaded, setLoaded ] = useState(false);\n    const [ username, setUsername ] = useState();\n    const [ name, setName ] = useState();\n    const [ blurb, setBlurb ] = useState();\n    const [ key, setKey ] = useState();\n\n    const [ facebookName, setFacebookName ] = useState();\n    const [ facebookLink, setFacebookLink ] = useState();\n    const [ twitterName, setTwitterName ] = useState();\n    const [ twitterLink, setTwitterLink ] = useState();\n    const [ githubName, setGithubName ] = useState();\n    const [ githubLink, setGithubLink ] = useState();\n\n    const handleNameChange = (e) => { setName(e.target.value); };\n    const handleBlurbChange = (e) => { setBlurb(e.target.value); };\n\n    useEffect(() => {\n        fetch(`/api/id/me`)\n        .then(res => res.json())\n        .then(\n            (res) => {\n                if (res.code)\n                    window.location.href = '/';\n\n                setLoaded(true);\n                setUsername(res.username);\n                setName(res.name);\n                setBlurb(res.blurb);\n                setKey(res.key_decrypt);\n\n                setFacebookName(res.facebook_name);\n                setFacebookLink(res.facebook_link);\n                setTwitterName(res.twitter_name);\n                setTwitterLink(res.twitter_link);\n                setGithubName(res.github_name);\n                setGithubLink(res.github_link);\n            },\n            (err) => {\n                window.location.href = '/';\n            }\n        );\n    }, []);\n\n    const handleApply = () => {\n        axios.post('/api/edit', { name, blurb })\n        .then(res => {\n            switch (res.data.code) {\n                case 0:\n                    alert('Successfully updated profile.');\n                    break;\n                default:\n                    alert(res.data.message);\n                    break;\n            }\n        });\n    }\n\n    return (\n        <div style={{ opacity: loaded ? 1 : 0, display: loaded ? 'flex' : 'none' }} className='box'>\n            <div>\n                <input\n                    style={{\n                        color: 'var(--highlight)',\n                        fontWeight: 400, fontSize: 32,\n                        marginTop: 0\n                    }}\n                    type='text' placeholder='Display Name'\n                    value={ name } onChange={ handleNameChange } />\n                <input\n                    style={{\n                        color: 'var(--foreground)',\n                        fontSize: 16,\n                        marginTop: 0\n                    }}\n                    type='text' placeholder='Blurb'\n                    value={ blurb } onChange={ handleBlurbChange } />\n                <div>\n                    <div style={{ display: 'inline-block' }}>\n                        { twitterName\n                            ? <Social\n                                text={ twitterName }\n                                link={ twitterLink }\n                                color='#1DA1F2' type='twitter' />\n                            : <Social\n                                text='Connect Twitter'\n                                link='/auth/twitter'\n                                color='#1DA1F2' type='twitter' /> }\n                        { githubName\n                            ? <Social\n                                text={ githubName }\n                                link={ githubLink }\n                                color='#0366D6' type='github' />\n                            : <Social\n                                text='Connect GitHub'\n                                link='/auth/github'\n                                color='#0366D6' type='github' /> }\n                        { facebookName\n                            ? <Social\n                                text={ facebookName }\n                                link={ facebookLink }\n                                color='#4267B2' type='facebook' />\n                            : <Social\n                                text='Connect Facebook'\n                                link='/auth/facebook'\n                                color='#4267B2' type='facebook' /> }\n                    </div>\n                </div>\n                <button onClick={ handleApply }>Apply</button>\n                <Link to='/id/me'>\n                    <small className='soft'>View your profile</small>\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Edit;\n","import {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect\n} from 'react-router-dom';\n\nimport ID from './component/ID';\nimport Signature from './component/Signature';\nimport Register from './component/Register';\nimport Login from './component/Login';\nimport Edit from './component/Edit';\n\nfunction App() {\n    return (\n        <Router>\n            <div className='header'>\n                <Link to='/'>\n                    <h1 className='outline' style={{ fontWeight: 700 }}>\n                        <img src='/logo192.png' />\n                        repul.ink\n                    </h1>\n                </Link>\n                <Link to='/id/me'>\n                    <h1 style={{ color: 'var(--foreground)' }}>\n                        <i className='fas fa-address-card'></i>\n                    </h1>\n                </Link>\n            </div>\n            <div className='center'>\n                <Switch>\n                    <Route path='/register'>\n                        <Register />\n                    </Route>\n                    <Route path='/login'>\n                        <Login />\n                    </Route>\n                    <Route path='/id/:username'>\n                        <ID />\n                    </Route>\n                    <Route path='/sig/:uuid'>\n                        <Signature />\n                    </Route>\n                    <Route path='/edit'>\n                        <Edit />\n                    </Route>\n                    <Route path='/' exact>\n                        <div style={{ zIndex: -1, position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', overflow: 'hidden' }}>\n                            <div className='blob'>\n                                <svg fill='var(--highlight)' viewBox='0 0 310 350'>\n                                    <path d='M156.4,339.5c31.8-2.5,59.4-26.8,80.2-48.5c28.3-29.5,40.5-47,56.1-85.1c14-34.3,20.7-75.6,2.3-111  c-18.1-34.8-55.7-58-90.4-72.3c-11.7-4.8-24.1-8.8-36.8-11.5l-0.9-0.9l-0.6,0.6c-27.7-5.8-56.6-6-82.4,3c-38.8,13.6-64,48.8-66.8,90.3c-3,43.9,17.8,88.3,33.7,128.8c5.3,13.5,10.4,27.1,14.9,40.9C77.5,309.9,111,343,156.4,339.5z' />\n                                </svg>\n                            </div>\n                        </div>\n                        <div className='center home'>\n                            <div>\n                            </div>\n                            <div className='box' style={{ backgroundColor: 'transparent' }}><div>\n                                <Link to='/login'>\n                                    <button style={{ marginBottom: 10 }}>Login</button>\n                                </Link>\n                                <br />\n                                <Link to='/register'>\n                                    <button>Register</button>\n                                </Link>\n                                <br /><br />\n                                <p style={{ paddingLeft: 10, borderLeftStyle: 'solid', marginLeft: 10, borderWidth: 1 }}>\n                                    As misinformation increases in popular media and machine learning pushes the limits of imitating human faces and voices, it's necessary to return normalcy to our trust of online sources.\n                                </p>\n                                <h2>Identity <i>v.</i> Anonymity <i className='fas fa-theater-masks'></i></h2>\n                                <br />\n                                <p style={{ paddingLeft: 10, borderLeftStyle: 'solid', marginLeft: 10, borderWidth: 1 }}>\n                                    Your private keys will only ever be available to you, they are encrypted locally in the browser before they are stored in secure Google Cloud databases.\n                                </p>\n                                <h2>Local Encryption <i className='fas fa-key'></i></h2>\n                                <br />\n                                <p style={{ paddingLeft: 10, borderLeftStyle: 'solid', marginLeft: 10, borderWidth: 1 }}>\n                                    Safe and easy to use cryptography should be a right of all users on the internet. As the online world expands into our lives, no person should ever feel unsafe in its growth.\n                                </p>\n                                <h2>Ease of Use <i className='fas fa-seedling'></i></h2>\n                            </div></div>\n                        </div>\n                    </Route>\n                    <Route>\n                        <div>\n                            <h1>Page not found</h1>\n                            <p>Seems you've taken a wrong turn!</p>\n                        </div>\n                    </Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}