{"version":3,"sources":["crypto.js","component/Social.js","component/ID.js","component/Signature.js","component/Register.js","component/Login.js","component/Edit.js","App.js","index.js"],"names":["encrypt","pass","message","salt","forge","random","getBytesSync","derivedBytes","pbe","opensslDeriveBytes","keySize","buffer","util","createBuffer","key","getBytes","iv","cipher","createCipher","start","update","finish","output","putBytes","putBuffer","decrypt","input","length","decipher","createDecipher","toString","Social","props","text","color","type","href","className","style","backgroundColor","ID","user","me","useParams","username","defaultUsername","useState","setUsername","name","setName","blurb","setBlurb","setKey","payload","setPayload","password","setPassword","file","setFile","fileMode","setFileMode","useEffect","fetch","then","res","json","code","window","location","key_decrypt","err","opacity","size","value","origin","qrStyle","bgColor","fgColor","logoImage","logoWidth","logoOpacity","display","to","onClick","marginTop","marginRight","for","id","onChange","e","target","files","placeholder","alert","axios","post","data","body","key_encryption","pki","privateKeyFromPem","md","sha1","create","fileReader","FileReader","onloadend","content","result","digest","toHex","signature","sign","hash","uuid","catch","readAsBinaryString","Signature","console","log","setSignature","setHash","setText","verified","setVerified","publicKeyFromPem","verify","hexToBytes","flexDirection","width","Yes","textAlign","No","Register","reqLength","reqCase","test","reqSpecial","padding","rsa","generateKeyPair","bits","workers","keypair","error","publicKeyToPem","publicKey","key_encrypt","privateKeyToPem","privateKey","Login","Edit","loaded","setLoaded","fontWeight","fontSize","App","src","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.55d779b1.chunk.js","sourcesContent":["import forge from 'node-forge';\n\nconst keySize = 24;\nconst ivSize = 8;\n\nfunction encrypt(pass, message) {\n    const salt = forge.random.getBytesSync(8);\n    const derivedBytes = forge.pbe.opensslDeriveBytes(\n        pass, salt, keySize + ivSize\n    );\n    const buffer = forge.util.createBuffer(derivedBytes);\n    const key = buffer.getBytes(keySize);\n    const iv = buffer.getBytes(ivSize);\n\n    const cipher = forge.cipher.createCipher('3DES-CBC', key);\n    cipher.start({ iv });\n    cipher.update(forge.util.createBuffer(message));\n    cipher.finish();\n\n    const output = forge.util.createBuffer();\n\n    if (salt !== null) {\n        output.putBytes('Salted__');\n        output.putBytes(salt);\n    }\n    output.putBuffer(cipher.output);\n\n    return output.getBytes();\n}\n\nfunction decrypt(pass, message) {\n    const input = forge.util.createBuffer(message);\n\n    input.getBytes('Salted__'.length);\n\n    const salt = input.getBytes(8);\n\n    const derivedBytes = forge.pbe.opensslDeriveBytes(\n        pass, salt, keySize + ivSize);\n    const buffer = forge.util.createBuffer(derivedBytes);\n    const key = buffer.getBytes(keySize);\n    const iv = buffer.getBytes(ivSize);\n\n    const decipher = forge.cipher.createDecipher('3DES-CBC', key);\n    decipher.start({ iv });\n    decipher.update(input);\n    decipher.finish();\n\n    return decipher.output.toString();\n}\n\nexport {\n    encrypt, decrypt\n};\n","function Social(props) {\n    const { text, color, type } = props;\n\n    return (\n        <a href='/'>\n            <div className='social' style={{ backgroundColor: color }}>\n                <span>{ text }</span>\n                <i className={ `fab fa-${type}` }></i>\n            </div>\n        </a>\n    );\n}\n\nexport default Social;\n","import { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { QRCode } from 'react-qrcode-logo';\n\nimport axios from 'axios';\nimport forge from 'node-forge';\n\nimport { decrypt } from '../crypto';\nimport Social from './Social';\n\nfunction ID({ user }) {\n    const me = useParams().username == 'me';\n    var defaultUsername = useParams().username;\n    if (user) defaultUsername = user;\n    const [ username, setUsername ] = useState(defaultUsername);\n    const [ name, setName ] = useState();\n    const [ blurb, setBlurb ] = useState();\n    const [ key, setKey ] = useState();\n\n    const [ payload, setPayload ] = useState();\n    const [ password, setPassword ] = useState();\n    const [ file, setFile ] = useState();\n\n    const [ fileMode, setFileMode ] = useState(false);\n\n    const handlePayloadChange = (e) => { setPayload(e.target.value); };\n    const handlePasswordChange = (e) => { setPassword(e.target.value); };\n    const handleFileChange = (e) => { setFile(e.target.files[0]); };\n\n    const handleSign = () => {\n        if (!fileMode && !payload) return alert('Payload is missing!');\n        if (fileMode && !file) return alert('File is missing!');\n        if (!password) return alert('Password is missing!');\n\n        axios.post('/api/prepareSign')\n        .then(res => {\n            switch (res.data.code) {\n                case 0:\n                    try {\n                        const key_encryption = forge.pki.privateKeyFromPem(decrypt(\n                            password, res.data.key_encryption));\n                        const md = forge.md.sha1.create();\n\n                        let body;\n\n                        if (fileMode) {\n                            const fileReader = new FileReader();\n                            fileReader.onloadend = (e) => {\n                                const content = fileReader.result;\n\n                                md.update(content, 'binary');\n                                body = md.digest().toHex();\n                                const signature = key_encryption.sign(md);\n\n                                axios.post('/api/sign', { hash: body, signature })\n                                .then(res => {\n                                    if (res.data.code)\n                                        return alert('Unknown error');\n\n                                    const uuid = res.data.uuid;\n                                    window.location.href =\n                                        `${window.location.origin}/sig/${uuid}`\n\n                                })\n                                .catch(err => {\n                                    alert('Unknown error!');\n                                });\n                            };\n                            fileReader.readAsBinaryString(file);\n                        }\n                        else {\n                            body = payload;\n\n                            md.update(payload, 'utf8');\n                            const signature = key_encryption.sign(md);\n\n                            axios.post('/api/sign', { payload: body, signature })\n                            .then(res => {\n                                if (res.data.code)\n                                    return alert('Unknown error');\n\n                                const uuid = res.data.uuid;\n                                window.location.href =\n                                    `${window.location.origin}/sig/${uuid}`\n                            })\n                            .catch(err => {\n                                alert('Unknown error!');\n                            });\n                        }\n                    }\n                    catch (err) {\n                        alert('Invalid password!');\n                    }\n                    break;\n                default:\n                    alert(res.data.message);\n                    break;\n            }\n        });\n    };\n\n    const toggleMode = () => {\n        setFileMode(!fileMode);\n    };\n\n    useEffect(() => {\n        fetch(`/api/id/${username}`)\n        .then(res => res.json())\n        .then(\n            (res) => {\n                if (res.code)\n                    window.location.href = '/';\n\n                setUsername(res.username);\n                setName(res.name);\n                setBlurb(res.blurb);\n                setKey(res.key_decrypt);\n            },\n            (err) => {\n                window.location.href = '/';\n            }\n        );\n    }, []);\n\n    //<i className='soft' style={{ wordBreak: 'break-all' }}>{ key }</i>\n\n    return (\n        <>\n            <div style={{ opacity: name ? 1 : 0 }} className='box'>\n                <div className='qr'>\n                    <QRCode\n                        size={ 225 }\n                        value={ `${window.location.origin}/id/${username}` }\n                        qrStyle='dots' bgColor='#1c1f28' fgColor='#f8faf9'\n                        logoImage='/logo.png' logoWidth='75' logoOpacity='0.8' />\n                        </div>\n                <div>\n                    <h1>{ name }</h1>\n                    <p>{ blurb }</p>\n                    <div>\n                        <div style={{ display: 'inline-block' }}>\n                            <Social\n                                text='Jihoon Yang (@lanpai)'\n                                color='#1DA1F2' type='twitter' />\n                            <Social\n                                text='Jihoon Yang (@lanpai)'\n                                color='#0366d6' type='github' />\n                            <Social\n                                text='Jihoon Yang'\n                                color='#4267B2' type='facebook' />\n                        </div>\n                    </div>\n                    { me &&\n                        <Link to='/edit'>\n                            <small className='soft'>Edit your profile</small>\n                        </Link>\n                    }\n                </div>\n            </div>\n            <div style={{\n                display: me ? 'flex' : 'none',\n                opacity: name ? 1 : 0,\n                backgroundColor: 'transparent'\n            }} className='box'>\n                <div>\n                    <Link onClick={ toggleMode }>\n                        <small className='soft'>\n                            { fileMode ? \n                                'Want to sign text?' :\n                                'Want to sign a file?' }\n                        </small>\n                    </Link>\n                    { fileMode\n                        ? <div style={{ marginTop: 5 }}>\n                            <label style={{ marginRight: 4 }} for='file'>\n                                Browse\n                            </label>\n                            <small style={{ color: 'var(--midground)' }}>\n                                { file?.name || 'No file selected' }\n                            </small>\n                            <input\n                                id='file'\n                                style={{ display: 'none' }}\n                                type='file' onChange={ handleFileChange } />\n                        </div>\n                        : <input\n                            style={{ marginTop: 5 }}\n                            type='text' placeholder='Message'\n                            value={ payload } onChange={ handlePayloadChange } />\n                    }\n                    <input\n                        type='password' placeholder='Password'\n                        value={ password } onChange={ handlePasswordChange } />\n                    <button onClick={ handleSign }>\n                        Sign <i className='fas fa-pen-alt'></i>\n                    </button>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default ID;\n","import { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { QRCode } from 'react-qrcode-logo';\n\nimport axios from 'axios';\nimport forge from 'node-forge';\n\nimport ID from './ID';\n\nfunction Signature() {\n    console.log(useParams());\n    const [ uuid, setUuid ] = useState(useParams().uuid);\n\n    const [ username, setUsername ] = useState();\n    const [ signature, setSignature ] = useState();\n    const [ hash, setHash ] = useState();\n    const [ text, setText ] = useState();\n\n    const [ key, setKey ] = useState();\n    const [ name, setName ] = useState();\n    const [ blurb, setBlurb ] = useState();\n\n    const [ verified, setVerified ] = useState(false);\n\n    useEffect(() => {\n        fetch(`/api/sig/${uuid}`)\n        .then(res => res.json())\n        .then(\n            (res) => {\n                if (res.code)\n                    window.location.href = '/';\n\n                setUsername(res.username);\n                setSignature(res.signature);\n                setHash(res.hash);\n                setText(res.text);\n            },\n            (err) => {\n                window.location.href = '/';\n            }\n        );\n    }, []);\n\n    useEffect(() => {\n        if (username) {\n            fetch(`/api/id/${username}`)\n            .then(res => res.json())\n            .then(\n                (res) => {\n                    if (res.code)\n                        window.location.href = '/';\n\n                    setName(res.name);\n                    setBlurb(res.blurb);\n                    setKey(res.key_decrypt);\n                },\n                (err) => {\n                    window.location.href = '/';\n                }\n            );\n        }\n    }, [ username ]);\n\n    useEffect(() => {\n        if (key) {\n            const key_decrypt = forge.pki.publicKeyFromPem(key);\n            console.log(signature);\n\n            setVerified(key_decrypt.verify(\n                forge.util.hexToBytes(hash), signature));\n        }\n    }, [ key ]);\n\n    return (\n        <div style={{\n            opacity: key ? 1 : 0, display: 'flex', flexDirection: 'column'\n        }} className='box'>\n            <QRCode\n                size={ 225 }\n                value={ `${window.location.origin}/sig/${uuid}` }\n                qrStyle='dots' bgColor='#1c1f28' fgColor='#f8faf9'\n                logoImage='/logo.png' logoWidth='75' logoOpacity='0.8' />\n            <br />\n            <p>{ text }</p>\n            <small className='soft'>{ hash }</small>\n            { verified\n                ? <h2 style={{ color: 'deepskyblue' }}>\n                    Verified <i className='fas fa-check-circle'></i>\n                </h2>\n                : <h2 style={{ color: 'var(--foreground)' }}>Verifying...</h2> }\n            <div style={{ width: '100%' }}>\n                <hr />\n            </div>\n            <Link to={ `/id/${username}` }>\n                <h1>{ name }</h1>\n            </Link>\n            <p>{ blurb }</p>\n        </div>\n    );\n}\n\nexport default Signature;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport forge from 'node-forge';\nimport axios from 'axios';\n\nimport { encrypt, decrypt } from '../crypto';\n\nfunction Yes() {\n    return (\n        <i style={{ textAlign: 'center', width: 16 }} className='fas fa-check'></i>\n    );\n}\nfunction No() {\n    return (\n        <i style={{ textAlign: 'center', width: 16 }} className='fas fa-times'></i>\n    );\n}\n\nfunction Register() {\n    const [ username, setUsername ] = useState('');\n    const [ password, setPassword ] = useState('');\n\n    const handleUsernameChange = (e) => { setUsername(e.target.value); };\n    const handlePasswordChange = (e) => { setPassword(e.target.value); };\n\n    const reqLength = password.length >= 14;\n    const reqCase = /(?=.*[a-z])(?=.*[A-Z])/.test(password);\n    const reqSpecial = /(?=.*[-+_!@#$%^&*., ?])/.test(password);\n\n    const handleRegister = (e) => {\n        if (!username) return alert('Username is required!');\n        if (!reqLength) return alert('Must contain at least 14 characters!');\n        if (!reqCase) return alert('Must have both capital and lowercase letters');\n        if (!reqSpecial) return alert('Must contain at least 1 symbol');\n\n        forge.pki.rsa.generateKeyPair(\n            { bits: 2048, workers: 2 },\n            (err, keypair) => {\n                if (err) console.error(err);\n\n                const key_decrypt = forge.pki.publicKeyToPem(keypair.publicKey);\n                const key_encrypt = forge.pki.privateKeyToPem(keypair.privateKey);\n\n                console.log(key_decrypt);\n                console.log(key_encrypt);\n\n                axios.post('/api/register', {\n                    username,\n                    key_decrypt,\n                    key_encrypt: encrypt(password, key_encrypt)\n                })\n                .then(res => {\n                    switch (res.data.code) {\n                        case 0:\n                            window.location.href = '/login';\n                            break;\n                        default:\n                            alert(res.data.message);\n                            break;\n                    }\n                });\n            }\n        );\n    };\n\n    return (\n        <div className='box'>\n            <div>\n                <h2>Create your repul.ink account</h2>\n                <div style={{ padding: 5 }}>\n                    <p>{reqLength ? <Yes/> : <No/>} Must contain at least 14 characters</p>\n                    <p>{reqCase ? <Yes/> : <No/>} Must have both capital and lowercase letters</p>\n                    <p>{reqSpecial ? <Yes/> : <No/>} Must contain at least 1 symbol</p>\n                    <input\n                        type='text' placeholder='Username'\n                        value={ username } onChange={ handleUsernameChange } />\n                    <input\n                        type='password' placeholder='Password'\n                        value={ password } onChange={ handlePasswordChange } />\n                    <button onClick={ handleRegister }>Register</button>\n                    <Link to='/login'>\n                        <small className='soft'>Already have an account?</small>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Register;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport forge from 'node-forge';\nimport axios from 'axios';\n\nimport { encrypt, decrypt } from '../crypto';\n\nfunction Yes() {\n    return (\n        <i style={{ textAlign: 'center', width: 16 }} className='fas fa-check'></i>\n    );\n}\nfunction No() {\n    return (\n        <i style={{ textAlign: 'center', width: 16 }} className='fas fa-times'></i>\n    );\n}\n\nfunction Login() {\n    const [ username, setUsername ] = useState('');\n    const [ password, setPassword ] = useState('');\n\n    const handleUsernameChange = (e) => { setUsername(e.target.value); };\n    const handlePasswordChange = (e) => { setPassword(e.target.value); };\n\n    const reqLength = password.length >= 14;\n    const reqCase = /(?=.*[a-z])(?=.*[A-Z])/.test(password);\n    const reqSpecial = /(?=.*[-+_!@#$%^&*., ?])/.test(password);\n\n    const handleLogin = (e) => {\n        if (!username) return alert('Username is missing!');\n        if (!reqLength) return alert('Password contains at least 14 characters!');\n        if (!reqCase) return alert('Password contains both capital and lowercase letters');\n        if (!reqSpecial) return alert('Password contains at least 1 symbol');\n\n        axios.post('/api/prepareLogin', { username })\n        .then(res => {\n            switch (res.data.code) {\n                case 0:\n                    try {\n                        const key_encryption = forge.pki.privateKeyFromPem(decrypt(\n                            password, res.data.key_encryption));\n\n                        const md = forge.md.sha1.create();\n                        md.update(username, 'utf8');\n                        const signature = key_encryption.sign(md);\n\n                        axios.post('/api/login', { username, signature })\n                        .then(res => {\n                            window.location.href = '/id/me';\n                        })\n                        .catch(err => {\n                            alert('Unknown error!');\n                        });\n                    }\n                    catch (err) {\n                        alert('Invalid password!');\n                    }\n                    break;\n                default:\n                    alert(res.data.message);\n                    break;\n            }\n        });\n    };\n\n    return (\n        <div className='box'>\n            <div>\n                <h2>Login to your repul.ink account</h2>\n                <div style={{ padding: 5 }}>\n                    <p>{reqLength ? <Yes/> : <No/>} Password contains at least 14 characters</p>\n                    <p>{reqCase ? <Yes/> : <No/>} Password contains both capital and lowercase letters</p>\n                    <p>{reqSpecial ? <Yes/> : <No/>} Password contains at least 1 symbol</p>\n                    <input\n                        type='text' placeholder='Username'\n                        value={ username } onChange={ handleUsernameChange } />\n                    <input\n                        type='password' placeholder='Password'\n                        value={ password } onChange={ handlePasswordChange } />\n                    <button onClick={ handleLogin }>Login</button>\n                    <Link to='/register'>\n                        <small className='soft'>Don't have an account?</small>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n","import { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\n\nimport axios from 'axios';\n\nimport Social from './Social';\n\nfunction Edit() {\n    const [ loaded, setLoaded ] = useState(false);\n    const [ username, setUsername ] = useState();\n    const [ name, setName ] = useState();\n    const [ blurb, setBlurb ] = useState();\n    const [ key, setKey ] = useState();\n\n    const handleNameChange = (e) => { setName(e.target.value); };\n    const handleBlurbChange = (e) => { setBlurb(e.target.value); };\n\n    useEffect(() => {\n        fetch(`/api/id/me`)\n        .then(res => res.json())\n        .then(\n            (res) => {\n                if (res.code)\n                    window.location.href = '/';\n\n                setLoaded(true);\n                setUsername(res.username);\n                setName(res.name);\n                setBlurb(res.blurb);\n                setKey(res.key_decrypt);\n            },\n            (err) => {\n                window.location.href = '/';\n            }\n        );\n    }, []);\n\n    const handleApply = () => {\n        axios.post('/api/edit', { name, blurb })\n        .then(res => {\n            switch (res.data.code) {\n                case 0:\n                    alert('Successfully updated profile.');\n                    break;\n                default:\n                    alert(res.data.message);\n                    break;\n            }\n        });\n    }\n\n    return (\n        <div style={{ opacity: loaded ? 1 : 0 }} className='box'>\n            <div>\n                <input\n                    style={{\n                        color: 'var(--highlight)',\n                        fontWeight: 700, fontSize: 32,\n                        marginTop: 0\n                    }}\n                    type='text' placeholder='Display Name'\n                    value={ name } onChange={ handleNameChange } />\n                <input\n                    style={{\n                        color: 'var(--foreground)',\n                        fontSize: 16,\n                        marginTop: 0\n                    }}\n                    type='text' placeholder='Blurb'\n                    value={ blurb } onChange={ handleBlurbChange } />\n                <div>\n                    <div style={{ display: 'inline-block' }}>\n                        <Social text='Connect Twitter' color='#1DA1F2' type='twitter' />\n                        <Social text='Connect GitHub' color='#0366d6' type='github' />\n                        <Social text='Connect Facebook' color='#4267B2' type='facebook' />\n                    </div>\n                </div>\n                <button onClick={ handleApply }>Apply</button>\n                <Link to='/id/me'>\n                    <small className='soft'>View your profile</small>\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Edit;\n","import {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect\n} from 'react-router-dom';\n\nimport ID from './component/ID';\nimport Signature from './component/Signature';\nimport Register from './component/Register';\nimport Login from './component/Login';\nimport Edit from './component/Edit';\n\nfunction App() {\n    return (\n        <Router>\n            <div className='header'>\n                <Link to='/'>\n                    <h1>\n                        <img src='/logo192.png' />\n                        repul.ink\n                    </h1>\n                </Link>\n            </div>\n            <div className='center'>\n                <Switch>\n                    <Route path='/register'>\n                        <Register />\n                    </Route>\n                    <Route path='/login'>\n                        <Login />\n                    </Route>\n                    <Route path='/id/:username'>\n                        <ID />\n                    </Route>\n                    <Route path='/sig/:uuid'>\n                        <Signature />\n                    </Route>\n                    <Route path='/edit'>\n                        <Edit />\n                    </Route>\n                    <Route path='/' exact>\n                        <h1>Under Construction</h1>\n                    </Route>\n\n                    <Route>\n                        <div>\n                            <h1>Page not found</h1>\n                            <p>Seems you've taken a wrong turn!</p>\n                        </div>\n                    </Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}